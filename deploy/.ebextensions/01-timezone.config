###################################################################################################
# 01-timezone.config
# Configura timezone para São Paulo em toda a instância
###################################################################################################

commands:
  01_set_system_timezone:
    command: "ln -sf /usr/share/zoneinfo/America/Sao_Paulo /etc/localtime"
    
  02_update_system_clock:
    command: "echo 'ZONE=\"America/Sao_Paulo\"' > /etc/sysconfig/clock"
    
  03_sync_hardware_clock:
    command: "hwclock --systohc || true"
    
  04_export_tz_variable:
    command: "echo 'export TZ=America/Sao_Paulo' >> /etc/profile"

option_settings:
  aws:elasticbeanstalk:application:environment:
    TZ: America/Sao_Paulo